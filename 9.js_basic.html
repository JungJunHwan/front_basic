<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>js basic</title>
    <script>
        function showObject(){
            let person = {name:'hong', email:"hong@naver.com", age:30};
            // 객체 전체 조회
            console.log(person);
            // 객체 특정 요소 조회 방법 1 : person.name
            console.log(person.name);
            person.name = 'kim'; //객체 요소 변경

            // 객체 특정 요소 조회 방법 2 : person['name']
            console.log(person['age']);

            // Object.keys(객체명) : 객체의 키를 배열 형태로 변환
            const keyarr = Object.keys(person);
            for(let i=0; i<keyarr.length; i++){
                console.log(person[keyarr[i]]);
            }
            keyarr.forEach(k=>console.log(person[k]));
        }
        function makeObject(){
            // 방법1. 리터럴 방식으로 세팅
            let person = {name:'hong', email:"hong@naver.com", age:30};
            // 방법2. 동적으로 키와 값을 추가
            let person2 = {};
            person2.name = 'kim';
            person2.email = 'kim@naver.com';
            person2.password = '1234';
            person2['age'] = 30;
            console.log(person2);

            // 단축 속성명 방식 : key, value 값이 동일하게 사용될때 간편하게 객체 생성하는 방식
            const name = 'lee';
            const age = 30;
            const person3 = {name, age};
            console.log(person3);

            const obj1 = {key1:'value1'};
            const obj2 = {obj1}; //{obj1:{key1:'value1'}}
            console.log(obj2);

            // 스프레드 문법
            const obj3 = {a:1, b:2};
            const obj4 = {...obj3, c:3}; //{a:1, b:2, c:3} ...키워드를 통해 obj3 객체의 요소를 obj4에서 사용
        }
        function makeArr(){
            let fruits = ['사과', '바나나', '오렌지'];
            // 배열 요소 추가 : push
            fruits.push('포도');
            console.log(fruits);
            // 배열 마지막 요소 꺼내기 : pop
            console.log(fruits.pop());
            console.log(fruits);

            // 배열의 접건 : 배열명[index]
            console.log(fruits[0]);

            // 배열 요소의 수정
            fruits[0] = '망고';
            console.log(fruits);

            // for문 기본
            for(let i=0; i<fruits.length; i++){
                console.log(fruits[i]);
            }
            // foreach문
            for(let f of fruits){
                console.log(f);
            }
            // 함수형 프로그래밍 foreach
            fruits.forEach(f=>console.log(f));
            fruits.forEach((a,b)=>console.log('a : ' + a + ', b : ' + b));

            // filter
            const nums = [1,2,3,4,5,6];
            const newNums = nums.filter(a=>a%2==0);
            console.log(newNums);

            // map
            const newNums2 = nums.map(a=>a*a);
            console.log(newNums2);

            // 스프레드 문법
            const newNums3 = [...nums, 7,8,9];
        }
        function makeObjectArr(){
            const arr = [{name:'kim', age:40}, {name:'lee', age:20}, {name:'jung', age:30}];
            const newArr1 = arr.filter(a=>a.age>=30);
            console.log(newArr1);
            // // for문을 통한 배열내의 객체 요소 원본 변경
            // for(let i=0; i<arr.length; i++){
            //     arr[i].email='test@naver.com';
            // }
            // 스프레드 문법을 통함
            const newArr2 = arr.map(a=>{return {...a, email:'test@naver.com'}});
            console.log(newArr2);
        }
        function convertType(){
            let numStr = "10";
            let str = "hello";
            let num1 = Number(numStr);
            console.log(typeof num1);
            num1 = String(num1);
            console.log(typeof num1);
            // NaN(Not a Number)이 담김
            let num2 = Number(str);
            console.log(num2);
            
            // == ===(타입까지 체크)
            console.log(10 == '10'); //true
            console.log(10 === '10'); //false

            // 변수를 선언만 하고 값 할당을 안하면 undefined가 담김
            let var1;
            let var2 = null;
            console.log(var1 == var2); //true
            console.log(var1 === var2); //false
        }
    </script>
</head>
<body>
    <h2>js 객체</h2>
    <button onclick="showObject()">객체 조회</button>
    <button onclick="makeObject()">객체 생성</button>
    <button onclick="makeArr()">배열 생성</button>
    <button onclick="makeObjectArr()">배열안에 객체 생성</button>
    <button onclick="convertType()">형변환</button>
</body>
</html>